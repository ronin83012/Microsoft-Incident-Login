<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign in</title>
  <style>
    /* tokens */
    :root{
      --page-bg: #f3f2f1;
      --card-bg: #ffffff;
      --accent-blue: #0a66c2;   /* Next button */
      --accent-blue-dark: #08509a;
      --back-gray: #d7d7d7;     /* Back button */
      --text-dark: #222;
      --muted: #6f6f6f;
      --notice-bg: #efefef;
      --card-width: 420px;
      --radius: 6px;
      --shadow: 0 6px 18px rgba(16,24,32,0.08);
    }

    html,body{height:100%;margin:0;font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;background:var(--page-bg);color:var(--text-dark)}
    .wrap{height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;box-sizing:border-box}

    /* center card */
    .card{width:var(--card-width);background:var(--card-bg);border-radius:6px;box-shadow:var(--shadow);overflow:hidden;border:1px solid rgba(0,0,0,0.04)}
    .card-top{padding:26px 28px}
    .card-bottom{background:var(--notice-bg);padding:16px 18px;font-size:13px;color:#333;border-top:1px solid rgba(0,0,0,0.03)}

    /* header area */
    .brand-row{display:flex;align-items:center;gap:12px;margin-bottom:14px}
    .logo-box{width:80px;height:56px;border-radius:4px;background:linear-gradient(135deg,#6fe7ff,#2ba7dd);flex:0 0 auto}
    .brand-text{font-size:13px;color:var(--muted);font-weight:700}

    /* heading (use serif-like feel) */
    h1{font-family: Georgia, "Times New Roman", Times, serif;margin:0 0 14px 0;font-size:30px;font-weight:700;color:#222}

    /* input underline look */
    .field {margin-bottom:14px}
    input[type="text"], input[type="password"]{
      width:100%;
      padding:8px 6px;
      font-size:15px;
      border:0;
      border-bottom:2px solid #9e9e9e;
      background:transparent;
      box-sizing:border-box;
      outline:none;
      color:var(--text-dark);
    }
    input::placeholder{color:#a7a7a7}
    input:focus{border-bottom-color:var(--accent-blue); box-shadow: 0 6px 0 rgba(10,100,170,0.02)}

    .help-link{display:inline-block;margin-top:8px;color:var(--accent-blue);font-size:13px;text-decoration:none}

    /* buttons aligned horizontally */
    .btn-row{display:flex;gap:12px;align-items:center;margin-top:18px}
    .btn{padding:10px 18px;border-radius:4px;border:none;cursor:pointer;font-weight:600;font-size:14px}
    .btn-back{background:var(--back-gray);color:#111;min-width:110px}
    .btn-next{background:var(--accent-blue);color:#fff;min-width:110px}

    /* instruction block style */
    .info-text{font-size:13px;color:#222;line-height:1.4}

    /* small display user */
    .display-user{font-weight:600;margin-bottom:8px;color:#222}

    /* responsive */
    @media (max-width:480px){
      :root{--card-width:94%}
      h1{font-size:24px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main" aria-labelledby="signinTitle">
      <div class="card-top">
        <div class="brand-row" aria-hidden="true">
          <img src="/static/Logo.png" alt="Company Logo" class="logo-box" /> <!-- <div class="logo-box" title="Company"></div> -->
          <div class="brand-text">Company Security</div>
        </div>

        <h1 id="signinTitle">Sign in</h1>

        <form id="loginForm" action="/submit-training" method="POST" novalidate>
          <!-- STEP 1 -->
          <div id="step1">
            <div class="field">
              <input id="username" name="username" type="text" placeholder="someone@example.com" autocomplete="username" required />
            </div>

            <a class="help-link" href="#" onclick="alert('Contact your IT Service Desk'); return false;">Can't access your account?</a>

            <div class="btn-row" style="justify-content:flex-start">
              <!-- invisible Back to match the visual spacing like sample -->
              <button type="button" class="btn btn-back" id="backBtnStep1" style="visibility:hidden">Back</button>
              <button type="button" class="btn btn-next" id="nextBtn">Next</button>
            </div>
          </div>

          <!-- STEP 2 -->
          <div id="step2" style="display:none;margin-top:6px" aria-hidden="true">
            <div class="display-user" id="displayUser">someone@example.com</div>

            <input type="hidden" name="real_username" id="real_username" />

            <div class="field">
              <input id="password" name="password" type="password" placeholder="Enter your password" autocomplete="current-password" required />
            </div>

            <div class="btn-row">
              <button type="button" class="btn btn-back" id="backBtn">Back</button>
              <button type="submit" class="btn btn-next">Sign in</button>
            </div>
          </div>
        </form>
      </div>

      <div class="card-bottom" aria-hidden="true">
        <div class="info-text">
          Please login using your Company email address (example: username@company.com). <br>
          <small style="color:#666">This page is part of an internal security exercise â€” do not enter real passwords for external services. The system records only event metadata; passwords are not stored.</small>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Two-step flow (preserve your behavior)
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const usernameInput = document.getElementById('username');
    const displayUser = document.getElementById('displayUser');
    const realUsernameInput = document.getElementById('real_username');
    const nextBtn = document.getElementById('nextBtn');
    const backBtn = document.getElementById('backBtn');

    nextBtn.addEventListener('click', () => {
      const u = usernameInput.value.trim();
      if (!u) { alert('Please enter a username.'); usernameInput.focus(); return; }
      displayUser.textContent = u;
      realUsernameInput.value = u;
      step1.style.display = 'none';
      step2.style.display = 'block';
      step2.setAttribute('aria-hidden', 'false');
      document.getElementById('password').focus();
    });

    backBtn.addEventListener('click', () => {
      step2.style.display = 'none';
      step1.style.display = 'block';
      step2.setAttribute('aria-hidden', 'true');
      usernameInput.focus();
    });

    // IMPORTANT SAFE-SERVER NOTE:
    // By default the form posts to /submit-training. On the server side:
    //  - DO NOT store plaintext passwords. Prefer recording only: username, timestamp, IP, user-agent, and "submitted" flag.
    //  - If you must receive a value for analysis, POST only metadata (use AJAX) or hash/mask the password and delete quickly.
    // Example: prevent sending raw password and instead POST metadata (uncomment if you want):
    /*
    document.getElementById('loginForm').addEventListener('submit', function(e){
      e.preventDefault();
      fetch('/submit-training', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ username: realUsernameInput.value, event:'submitted', ts: Date.now() })
      }).then(()=> window.location.href = '/training-result.html');
    });
    */
  </script>
</body>
</html>
